2025-12-09 19:13:22.416 | INFO     | app.main:lifespan:21 - 🛑 服务正在关闭...
2025-12-09 19:13:26.061 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:13:26.302 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:13:26.303 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:13:26.336 | INFO     | app.main:lifespan:17 - 🔄 正在初始化核心服务...
2025-12-09 19:13:26.400 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:13:26.408 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:13:27.091 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:13:27.091 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:13:27.091 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:225 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:13:34.046 | INFO     | app.api.endpoints:chat_sync:78 - 收到同步请求: 介绍一下马斯克的太空探索公司
2025-12-09 19:13:34.052 | INFO     | app.core.nodes.retrieval:retrieve_node:12 - 🔍 [RETRIEVAL] 开始检索: 介绍一下马斯克的太空探索公司
2025-12-09 19:13:36.527 | INFO     | app.services.hybrid_search:_extract_entities:147 - 提取实体: ['马斯克', '太空探索公司']
2025-12-09 19:13:37.040 | INFO     | app.core.nodes.retrieval:retrieve_node:28 -    - 找到实体: ['马斯克', '太空探索公司']
2025-12-09 19:13:37.042 | INFO     | app.core.nodes.generation:generation_node:14 - 🧠 [GENERATION] 生成中...
2025-12-09 19:14:13.698 | INFO     | app.core.nodes.generation:generation_node:30 - 🧠 [GENERATION] 生成完成: 好的，SpaceX，全称**Space Exploration Technologies Corp.（太空探索技术公司）**，是一家由埃隆·马斯克于2002年创立的美国航空航天制造商和太空运输服务公司。

以下是关于SpaceX的详细介绍：

### **1. 核心目标与愿景**
马斯克创立SpaceX的初衷是为了大幅降低太空运输的成本，并最终实现**让人类成为多行星物种**的宏大目标，特别是**殖民火星**。他认为，降低进入太空的成本是开启太空文明的关键。

### **2. 主要成就与突破**
SpaceX以其颠覆性的创新和高效的执行力，彻底改变了全球航天工业的格局：

*   **可重复使用火箭**：这是SpaceX最革命性的成就。其“猎鹰9号”火箭的第一级能够自主返回并垂直着陆（在陆地平台或海上无人船上），经过翻修后可多次重复使用，极大地降低了发射成本。
*   **私营公司载人航天**：2020年，SpaceX的“载人龙飞船”成功将NASA宇航员送往国际空间站，成为历史上首家将人类送入轨道的私营公司，恢复了美国自航天飞机退役后本土载人航天的能力。
*   **强大的运载能力**：其重型运载火箭“猎鹰重型”是目前现役运力最强的火箭之一。
*   **高密度发射**：SpaceX拥有极高的发射频率，年发射量占全球很大比重，实现了“批量化生产”火箭。

### **3. 主要产品与项目**

*   **猎鹰系列运载火箭**：
    *   **猎鹰9号**：中重型、可重复使用的两级运载火箭，是其主力型号，承担了大部分卫星发射和国际空间站货运/载人任务。
    *   **猎鹰重型**：由三枚猎鹰9号第一级核心组成，运载能力更强，用于发射大型卫星或深空探测任务。

*   **龙系列飞船**：
    *   **货运龙飞船**：为国际空间站运送补给。
    *   **载人龙飞船**：运送宇航员往返空间站。
    *   （两者都具备可重复使用能力）

*   **星舰**：这是SpaceX正在全力研发的下一代、完全可重复使用的超级重型运载系统。它由**超级重型助推器**和**星舰飞船**组成，设计目标是能够将超过100吨的载荷或大量人员送往月球、火星乃至更远的地方。它是实现火星殖民梦想的核心交通工具。

*   **星链**：一个由数千颗（最终可能数万颗）低地球轨道卫星组成的巨型星座，旨在为全球提供高速、低延迟的互联网覆盖服务。该项目不仅具有巨大的商业潜力，也为SpaceX的太空业务提供了稳定的现金流，以资助其更宏大的航天计划。

### **4. 商业模式与影响**
*   **商业发射服务**：为各国政府、商业公司发射卫星，价格极具竞争力。
*   **NASA重要合作伙伴**：通过商业轨道运输服务和商业载人计划，成为NASA向国际空间站运输货物和宇航员的关键承包商。
*   **激发全球航天竞争**：它的成功刺激了全球新一轮商业航天热潮，并迫使传统航空航天巨头进行革新。

### **总结**
SpaceX不仅仅是一家火箭公司。它通过**工程上的垂直整合、极致的成本控制和技术上的大胆创新**（尤其是可重复使用技术），成功地将航天发射从“国家级奢侈行为”转变为更具商业可行性的活动。其最终愿景——通过“星舰”系统使人类能够在火星上建立自给自足的文明，驱动着公司不断挑战技术极限，成为21世纪太空探索中最具影响力和争议性的力量之一。
2025-12-09 19:14:13.699 | INFO     | app.core.nodes.validation:validation_node:24 - ⚖️ [VALIDATION] 正在评估...
2025-12-09 19:14:39.700 | INFO     | app.core.nodes.validation:validation_node:37 -    - 动作: pass | 理由: AI的回答准确、全面地介绍了马斯克的太空探索公司SpaceX，内容正确且结构清晰，覆盖了核心目标、成就、产品和商业模式等关键方面。尽管上下文为空，但基于AI的知识生成，回答完美符合用户问题要求。 | 重试: 0
2025-12-09 19:14:39.740 | INFO     | app.main:lifespan:21 - 🛑 服务正在关闭...
2025-12-09 19:14:42.418 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:14:42.633 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:14:42.634 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:14:42.660 | INFO     | app.main:lifespan:17 - 🔄 正在初始化核心服务...
2025-12-09 19:14:42.723 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:14:42.728 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:14:45.252 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:14:45.253 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:14:45.253 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:226 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:15:23.641 | INFO     | app.main:lifespan:21 - 🛑 服务正在关闭...
2025-12-09 19:15:26.334 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:15:26.568 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:15:26.570 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:15:26.598 | INFO     | app.main:lifespan:17 - 🔄 正在初始化核心服务...
2025-12-09 19:15:26.664 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:15:26.670 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:15:27.328 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:15:27.328 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:15:27.329 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:227 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:15:30.328 | INFO     | app.api.endpoints:chat_sync:78 - 收到同步请求: 介绍一下马斯克的太空探索公司
2025-12-09 19:15:30.331 | INFO     | app.core.nodes.retrieval:retrieve_node:12 - 🔍 [RETRIEVAL] 开始检索: 介绍一下马斯克的太空探索公司
2025-12-09 19:15:32.377 | INFO     | app.services.hybrid_search:_extract_entities:149 - 提取实体: ['马斯克', '太空探索公司']
2025-12-09 19:15:33.268 | INFO     | app.services.hybrid_search:search:121 - 搜索完成: 抽取实体 ['马斯克', '太空探索公司'], 匹配实体 []
2025-12-09 19:15:33.268 | INFO     | app.services.hybrid_search:search:122 - 图谱上下文: 
2025-12-09 19:15:33.268 | INFO     | app.core.nodes.retrieval:retrieve_node:28 -    - 找到实体: ['马斯克', '太空探索公司']
2025-12-09 19:15:33.269 | INFO     | app.core.nodes.generation:generation_node:14 - 🧠 [GENERATION] 生成中...
2025-12-09 19:16:08.200 | INFO     | app.core.nodes.generation:generation_node:30 - 🧠 [GENERATION] 生成完成: 埃隆·马斯克的太空探索公司全名为**Space Exploration Technologies Corp.**，通常简称为 **SpaceX**。以下是对该公司的详细介绍：

### 1. **公司概况**
   - **成立时间**：2002年由埃隆·马斯克创立。
   - **总部**：位于美国加利福尼亚州霍桑。
   - **核心使命**：降低太空运输成本，最终实现人类在火星的定居，使人类成为“多行星物种”。

### 2. **核心目标与愿景**
   - **核心目标**：通过技术创新（尤其是可重复使用火箭），大幅降低进入太空的成本。
   - **长期愿景**：殖民火星，确保人类在面临地球潜在灾难时得以延续。

### 3. **主要成就与里程碑**
   - **猎鹰1号**：2008年成为首个由私人资助的液体燃料火箭进入地球轨道。
   - **猎鹰9号火箭**：
     - 全球首个实现轨道级火箭第一级垂直回收并多次重复使用的火箭。
     - 已成为全球发射频率最高、可靠性最强的商业火箭之一。
   - **龙飞船**：
     - 2012年首次实现商业飞船向国际空间站运送货物。
     - 2020年首次执行载人飞行任务，成为首家将宇航员送入空间站的私营公司。
   - **星舰（Starship）**：
     - 下一代完全可重复使用的超重型运载系统，设计用于载人登陆火星、月球及其他深空任务。
     - 目前处于测试阶段，已进行多次试飞。
   - **星链（Starlink）**：
     - 通过近地轨道卫星群提供全球高速互联网服务，已发射数千颗卫星，服务覆盖多国。

### 4. **技术创新**
   - **可重复使用火箭技术**：猎鹰9号第一级的回收与复用，彻底改变了航天经济学。
   - **垂直整合**：公司自主设计、制造大部分关键部件（如发动机、电子设备），以控制成本与质量。
   - **猛禽发动机**：为星舰提供动力的全流量分级燃烧甲烷发动机，性能领先。

### 5. **商业模式**
   - **商业发射服务**：为NASA、其他政府机构及商业公司提供卫星发射服务。
   - **国际空间站补给与载人**：与NASA签订长期合同，执行货运及宇航员运输任务。
   - **星链商业运营**：向全球用户提供卫星互联网订阅服务，形成重要收入来源。

### 6. **行业影响**
   - 打破了传统国有航天机构的垄断，推动了全球商业航天产业的快速发展。
   - 通过低成本发射，促进了小型卫星、太空科研及新兴太空经济的发展。

### 7. **未来计划**
   - **星舰项目**：目标是实现载人火星任务、月球基地建设（如NASA的“阿尔忒弥斯”计划）。
   - **星链扩展**：计划发射数万颗卫星，构建全球通信网络。
   - **火星殖民**：长期愿景是在火星建立自给自足的城市。

总而言之，SpaceX以其颠覆性的技术、高效的执行力和宏大的愿景，已成为全球航天领域的领导者，并持续推动着人类太空探索的边界。
2025-12-09 19:16:08.204 | INFO     | app.core.nodes.validation:validation_node:24 - ⚖️ [VALIDATION] 正在评估...
2025-12-09 19:16:27.065 | INFO     | app.api.endpoints:chat_sync:78 - 收到同步请求: 介绍一下Elon Musk的Tesla公司
2025-12-09 19:16:27.069 | INFO     | app.core.nodes.retrieval:retrieve_node:12 - 🔍 [RETRIEVAL] 开始检索: 介绍一下Elon Musk的Tesla公司
2025-12-09 19:16:28.926 | INFO     | app.services.hybrid_search:_extract_entities:149 - 提取实体: ['Elon Musk', 'Tesla']
2025-12-09 19:16:30.734 | INFO     | app.services.hybrid_search:search:121 - 搜索完成: 抽取实体 ['Elon Musk', 'Tesla'], 匹配实体 []
2025-12-09 19:16:30.734 | INFO     | app.services.hybrid_search:search:122 - 图谱上下文: 
2025-12-09 19:16:30.734 | INFO     | app.core.nodes.retrieval:retrieve_node:28 -    - 找到实体: ['Elon Musk', 'Tesla']
2025-12-09 19:16:30.735 | INFO     | app.core.nodes.generation:generation_node:14 - 🧠 [GENERATION] 生成中...
2025-12-09 19:16:33.551 | INFO     | app.core.nodes.validation:validation_node:37 -    - 动作: pass | 理由: AI的回答准确、全面地介绍了马斯克的太空探索公司SpaceX，涵盖了公司概况、核心目标、主要成就、技术创新、商业模式、行业影响和未来计划，所有信息均正确无误。尽管上下文为空（无检索内容），但回答基于AI的知识生成，符合用户要求，无幻觉、逻辑错误或格式问题。 | 重试: 0
2025-12-09 19:16:54.159 | INFO     | app.core.nodes.generation:generation_node:30 - 🧠 [GENERATION] 生成完成: **太空探索公司（SpaceX）简介**  
太空探索技术公司（SpaceX）由埃隆·马斯克于2002年创立，是一家专注于航天技术和太空运输的美国公司。其主要目标是降低太空探索成本，并最终实现人类在火星的定居。SpaceX 的主要成就包括：  
1. **可重复使用火箭**：成功开发并多次回收“猎鹰9号”火箭的第一级，大幅降低了发射成本。  
2. **载人航天**：2020年首次通过“载人龙飞船”将宇航员送入国际空间站，标志着商业载人航天的突破。  
3. **星链计划**：正在部署全球卫星互联网系统，为偏远地区提供高速网络服务。  
4. **星舰计划**：研发下一代完全可重复使用的超重型运载火箭，旨在实现月球、火星等深空探索任务。  

**特斯拉（Tesla）公司简介**  
特斯拉由马丁·艾伯哈德和马克·塔彭宁于2003年创立，埃隆·马斯克于2004年加入并主导公司发展。特斯拉是全球电动汽车和清洁能源领域的领军企业，其使命是加速世界向可持续能源转型。主要业务包括：  
1. **电动汽车**：产品线涵盖Model S（豪华轿车）、Model 3（大众车型）、Model X（SUV）、Model Y（紧凑型SUV）以及电动卡车Semi和跑车Roadster。  
2. **能源解决方案**：提供太阳能屋顶（Solar Roof）、家用储能系统（Powerwall）和大型储能设备（Megapack），推动可再生能源利用。  
3. **技术创新**：  
   - **电池技术**：自主研发4680电池，提升能量密度并降低成本。  
   - **自动驾驶**：通过FSD（完全自动驾驶）系统推进智能驾驶技术。  
   - **超级充电网络**：在全球建设快速充电站，缓解里程焦虑。  
4. **市场影响**：特斯拉不仅颠覆了传统汽车行业，还通过开放专利等方式推动全球电动化进程。2020年起连续盈利，成为市值最高的汽车制造商之一。  

特斯拉和SpaceX均体现了马斯克对前沿科技和人类未来愿景的执着追求。
2025-12-09 19:16:54.164 | INFO     | app.core.nodes.validation:validation_node:24 - ⚖️ [VALIDATION] 正在评估...
2025-12-09 19:18:09.577 | INFO     | app.core.nodes.validation:validation_node:37 -    - 动作: retry_generation | 理由: AI回答额外介绍了SpaceX公司，而用户问题明确要求只介绍Elon Musk的Tesla公司，导致回答内容不专注，不符合用户需求。 | 重试: 0
2025-12-09 19:18:09.581 | INFO     | app.core.nodes.generation:generation_node:14 - 🧠 [GENERATION] 生成中...
2025-12-09 19:18:09.581 | WARNING  | app.core.nodes.generation:generation_node:20 -    - 接收到重试反馈: AI回答额外介绍了SpaceX公司，而用户问题明确要求只介绍Elon Musk的Tesla公司，导致回答内容不专注，不符合用户需求。
2025-12-09 19:18:34.367 | INFO     | app.core.nodes.generation:generation_node:30 - 🧠 [GENERATION] 生成完成: 根据您的要求，我将专注于介绍Elon Musk的Tesla公司，不涉及其他企业。

Tesla（特斯拉）是一家美国电动汽车及能源公司，由Martin Eberhard和Marc Tarpenning于2003年创立，Elon Musk随后通过早期投资成为董事长并主导了公司发展。公司总部位于德克萨斯州奥斯汀。

**核心业务与产品：**
1.  **电动汽车**：Tesla的核心业务是设计、制造和销售高性能纯电动汽车。其知名车型系列包括：
    *   **Model S**：豪华轿车
    *   **Model 3**：中型轿车，旨在普及电动汽车
    *   **Model X**：豪华SUV，配备鹰翼门
    *   **Model Y**：紧凑型SUV
    *   **Cybertruck**：电动皮卡
    *   **Semi**：电动半挂卡车

2.  **能源解决方案**：
    *   **储能产品**：如Powerwall（家用电池）、Powerpack和Megapack（商用及公用事业级储能系统）。
    *   **太阳能产品**：包括Solar Roof（太阳能屋顶瓦）和太阳能面板。

**技术创新与特点：**
*   **垂直整合**：Tesla在很大程度上自主开发核心技术，包括电池、电机、电控系统和自动驾驶软件。
*   **自动驾驶技术**：公司大力研发其高级驾驶辅助系统（ADAS）——Autopilot和全自动驾驶（FSD）套件。
*   **直销模式**：采用线上销售和直营门店的模式，而非传统经销商网络。
*   **超级充电网络**：在全球建设了广泛的自有超级充电站网络，为用户提供快速补能服务。

**影响与使命：**
Tesla的公开使命是“加速世界向可持续能源的转变”。它被认为是推动全球汽车产业电动化转型的关键力量，显著提升了电动汽车的性能、续航和公众接受度，并带动了整个产业链的发展。

总而言之，Tesla在Elon Musk的领导下，已从一家初创电动车企成长为全球市值最高的汽车制造商之一，并持续拓展其在可持续交通和能源领域的业务。
2025-12-09 19:18:34.370 | INFO     | app.core.nodes.validation:validation_node:24 - ⚖️ [VALIDATION] 正在评估...
2025-12-09 19:18:57.554 | INFO     | app.core.nodes.validation:validation_node:37 -    - 动作: pass | 理由: 回答准确、全面地介绍了Tesla公司，包括其创立背景、核心业务、技术创新、影响与使命，信息基于AI的内部知识判断正确，无幻觉或逻辑错误，格式清晰。尽管上下文为空，但生成答案符合用户要求。 | 重试: 1
2025-12-09 19:21:50.089 | INFO     | app.main:lifespan:21 - 🛑 服务正在关闭...
2025-12-09 19:21:55.068 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:21:55.310 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:21:55.311 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:21:55.349 | INFO     | app.main:lifespan:17 - 🔄 正在初始化核心服务...
2025-12-09 19:21:55.419 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:21:55.427 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:21:56.099 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:21:56.100 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:21:56.100 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:227 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:22:31.563 | INFO     | app.main:lifespan:21 - 🛑 服务正在关闭...
2025-12-09 19:22:34.243 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:22:34.469 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:22:34.470 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:22:34.498 | INFO     | app.main:lifespan:17 - 🔄 正在初始化核心服务...
2025-12-09 19:22:34.561 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:22:34.567 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:22:35.095 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:22:35.096 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:22:35.096 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:227 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:24:18.448 | INFO     | app.main:lifespan:21 - 🛑 服务正在关闭...
2025-12-09 19:24:21.073 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:24:21.304 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:24:21.305 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:24:21.333 | INFO     | app.main:lifespan:21 - 🔄 正在初始化核心服务...
2025-12-09 19:24:21.398 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:24:21.404 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:24:22.026 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:24:22.027 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:24:22.027 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:227 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:24:22.027 | WARNING  | app.main:lifespan:41 - ⚠️ 集合 test-collection 为空，准备初始化...
2025-12-09 19:24:22.027 | INFO     | app.main:lifespan:45 - 🚀 执行首次自动同步 (Neo4j -> Qdrant)...
2025-12-09 19:24:22.027 | INFO     | app.services.data_sync:sync_knowledge_base:18 - 🔄 [Sync] 开始执行知识库同步...
2025-12-09 19:24:22.176 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:24:22.176 | INFO     | app.services.data_sync:sync_knowledge_base:60 - 🗑️ [Sync] 删除旧集合: test-collection
2025-12-09 19:24:22.180 | ERROR    | app.main:lifespan:51 - ❌ 自动同步检查失败: Client.__init__() got an unexpected keyword argument 'client'
2025-12-09 19:27:43.804 | INFO     | app.main:lifespan:56 - 🛑 服务正在关闭...
2025-12-09 19:27:46.858 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:27:47.084 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:27:47.088 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:27:47.115 | INFO     | app.main:lifespan:21 - 🔄 正在初始化核心服务...
2025-12-09 19:27:47.176 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:27:47.181 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:27:47.803 | SUCCESS  | app.services.hybrid_search:_init_qdrant:84 - ✅ 已创建新集合: test-collection
2025-12-09 19:27:48.023 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:27:48.023 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:27:48.023 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:227 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:27:48.023 | WARNING  | app.main:lifespan:41 - ⚠️ 集合 test-collection 为空，准备初始化...
2025-12-09 19:27:48.023 | INFO     | app.main:lifespan:45 - 🚀 执行首次自动同步 (Neo4j -> Qdrant)...
2025-12-09 19:27:48.023 | INFO     | app.services.data_sync:sync_knowledge_base:15 - 🔄 [Sync] Neo4j -> Qdrant 全量同步开始...
2025-12-09 19:27:48.110 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:27:48.111 | ERROR    | app.main:lifespan:51 - ❌ 自动同步检查失败: Collection test-collection not found
2025-12-09 19:27:56.897 | INFO     | app.main:lifespan:56 - 🛑 服务正在关闭...
2025-12-09 19:27:59.587 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:27:59.811 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:27:59.814 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:27:59.840 | INFO     | app.main:lifespan:14 - 🚀 服务启动中...
2025-12-09 19:27:59.903 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:27:59.909 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:28:00.451 | SUCCESS  | app.services.hybrid_search:_init_qdrant:84 - ✅ 已创建新集合: test-collection
2025-12-09 19:28:00.662 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:28:00.662 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:28:00.663 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:227 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:28:00.663 | INFO     | app.main:lifespan:28 - 🔄 首次同步知识库...
2025-12-09 19:28:00.663 | INFO     | app.services.data_sync:sync_knowledge_base:15 - 🔄 [Sync] Neo4j -> Qdrant 全量同步开始...
2025-12-09 19:28:00.743 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:28:00.743 | WARNING  | app.main:lifespan:33 - ⚠️ 同步跳过: Collection test-collection not found
2025-12-09 19:29:06.517 | INFO     | app.main:lifespan:36 - 🛑 服务关闭
2025-12-09 19:29:09.604 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:29:09.893 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:29:09.894 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:29:09.922 | INFO     | app.main:lifespan:15 - 🚀 服务启动中...
2025-12-09 19:29:09.999 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:29:10.004 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:29:10.610 | SUCCESS  | app.services.hybrid_search:_init_qdrant:84 - ✅ 已创建新集合: test-collection
2025-12-09 19:29:10.818 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:29:10.819 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:29:10.819 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:227 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:29:10.819 | INFO     | app.main:lifespan:27 - 🔄 首次同步知识库...
2025-12-09 19:29:10.819 | INFO     | app.services.data_sync:sync_knowledge_base:15 - 🔄 [Sync] Neo4j -> Qdrant 全量同步开始...
2025-12-09 19:29:10.904 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:29:10.904 | ERROR    | app.main:lifespan:34 - ❌ 同步失败详情: Collection test-collection not found
2025-12-09 19:29:10.904 | WARNING  | app.main:lifespan:35 - ⚠️ 同步失败，但服务正常启动（可通过 API 手动同步）
2025-12-09 19:29:29.310 | INFO     | app.services.data_sync:sync_knowledge_base:15 - 🔄 [Sync] Neo4j -> Qdrant 全量同步开始...
2025-12-09 19:29:29.405 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:33:16.626 | INFO     | app.main:lifespan:38 - 🛑 服务关闭
2025-12-09 19:33:19.672 | SUCCESS  | app.services.neo4j_service:_connect:25 - ✅ Neo4j 连接成功: bolt://localhost:7687
2025-12-09 19:33:19.918 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:33:19.919 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: smart | Model: deepseek-reasoner | Temp: 0.7
2025-12-09 19:33:19.947 | INFO     | app.main:lifespan:15 - 🚀 服务启动中...
2025-12-09 19:33:20.013 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:33:20.019 | SUCCESS  | app.services.qdrant_service:_connect:26 - ✅ Qdrant 客户端初始化成功: ./qdrant_data
2025-12-09 19:33:20.639 | SUCCESS  | app.services.hybrid_search:_init_qdrant:84 - ✅ 已创建新集合: test-collection
2025-12-09 19:33:20.860 | SUCCESS  | app.services.llm_factory:get_llm:80 - ✅ LLM 已初始化 | Mode: fast | Model: deepseek-chat | Temp: 0.0
2025-12-09 19:33:20.860 | SUCCESS  | app.services.hybrid_search:__init__:66 - ✅ HybridSearch初始化完成
2025-12-09 19:33:20.860 | SUCCESS  | app.services.hybrid_search:init_hybrid_search:227 - 🚀 HybridSearchService 全局实例已创建
2025-12-09 19:33:20.861 | INFO     | app.main:lifespan:27 - 🔄 首次同步知识库...
2025-12-09 19:33:20.861 | INFO     | app.services.data_sync:sync_knowledge_base:17 - 🔄 [Sync] Neo4j -> Qdrant 全量同步开始...
2025-12-09 19:33:20.864 | INFO     | app.services.data_sync:sync_knowledge_base:31 - 📊 Neo4j 查询到 15 条实体
2025-12-09 19:33:20.933 | SUCCESS  | app.services.embedding_factory:get_embedding:41 - ✅ Embedding 已初始化 | Model: Qwen/Qwen3-Embedding-8B
2025-12-09 19:33:20.933 | INFO     | app.services.data_sync:sync_knowledge_base:75 - ✅ 使用现有集合: test-collection
2025-12-09 19:33:22.067 | SUCCESS  | app.services.data_sync:sync_knowledge_base:108 - ✅ 同步完成！实际写入 15 条实体
2025-12-09 19:33:22.067 | INFO     | app.main:lifespan:29 - 🔄 同步结果: {'status': 'success', 'count': 15, 'actual_count': 15}
2025-12-09 19:33:29.057 | INFO     | app.api.endpoints:chat_sync:78 - 收到同步请求: 介绍一下Elon Musk的Tesla公司
2025-12-09 19:33:29.091 | INFO     | app.core.nodes.retrieval:retrieve_node:12 - 🔍 [RETRIEVAL] 开始检索: 介绍一下Elon Musk的Tesla公司
2025-12-09 19:33:30.754 | INFO     | app.services.hybrid_search:_extract_entities:149 - 提取实体: ['Elon Musk', 'Tesla']
2025-12-09 19:33:31.597 | INFO     | app.services.hybrid_search:search:121 - 搜索完成: 抽取实体 ['Elon Musk', 'Tesla'], 匹配实体 [{'name': 'Elon Musk', 'score': 0.779233252106016, 'type': 'Person'}, {'name': 'Gwynne Shotwell', 'score': 0.6988401657020884, 'type': 'Person'}, {'name': '中国', 'score': 0.4114708092308373, 'type': 'Country'}, {'name': '上海', 'score': 0.39135624382573053, 'type': 'City'}]
2025-12-09 19:33:31.597 | INFO     | app.services.hybrid_search:search:122 - 图谱上下文: Elon Musk -[COLLEAGUE_WITH]-> Gwynne Shotwell
Elon Musk -[FOUNDER_OF]-> xAI
Elon Musk -[FOUNDER_OF]-> Neuralink
Elon Musk -[CEO_OF]-> Tesla
Elon Musk -[FOUNDER_OF]-> SpaceX
Gwynne Shotwell -[PRESIDENT_OF]-> SpaceX
Gwynne Shotwell -[COLLEAGUE_WITH]-> Elon Musk
中国 -[HAS_FACTORY_IN]-> Tesla
2025-12-09 19:33:31.597 | INFO     | app.core.nodes.retrieval:retrieve_node:28 -    - 找到实体: ['Elon Musk', 'Tesla']
2025-12-09 19:33:31.600 | INFO     | app.core.nodes.generation:generation_node:14 - 🧠 [GENERATION] 生成中...
2025-12-09 19:33:50.581 | INFO     | app.core.nodes.generation:generation_node:30 - 🧠 [GENERATION] 生成完成: Elon Musk 是 **Tesla（特斯拉）** 公司的**首席执行官（CEO）**。这一点在提供的知识图谱关系中明确体现为 **Elon Musk -[CEO_OF]-> Tesla**。

根据上下文信息和广泛认知，Tesla 的核心业务是设计、制造和销售**电动汽车**、**电池储能系统**以及**太阳能产品**，旨在推动全球向可持续能源转型。

一个重要的相关信息是，根据知识图谱，**中国 -[HAS_FACTORY_IN]-> Tesla**。这意味着特斯拉在中国（上海）设有重要的超级工厂，该工厂是其全球生产网络的关键一环，负责供应中国本土市场并出口车辆。

虽然上下文主要聚焦于关系结构，但结合背景知识可知，在 Elon Musk 的领导下，特斯拉不仅成为了全球最具价值的汽车公司之一，还极大地加速了电动汽车的普及。此外，Elon Musk 同时是 SpaceX、Neuralink 和 xAI 的创始人，这些事业与特斯拉在科技创新和长远愿景上存在协同。
2025-12-09 19:33:50.583 | INFO     | app.core.nodes.validation:validation_node:24 - ⚖️ [VALIDATION] 正在评估...
2025-12-09 19:34:23.343 | INFO     | app.core.nodes.validation:validation_node:37 -    - 动作: pass | 理由: AI的回答准确利用了上下文中的知识图谱关系，正确指出Elon Musk是Tesla的CEO以及中国设有Tesla工厂，并合理补充了Tesla的业务描述和背景信息，无逻辑错误或幻觉，符合用户问题的要求。 | 重试: 0
